{
  "info": {
    "name": "10xDevFiszki API",
    "description": "AI-powered flashcard generation API",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@test.pl\",\n  \"password\": \"testtest\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Authenticate user and establish session"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@test.pl\",\n  \"password\": \"testtest\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/login",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "login"]
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"user\": {\n    \"id\": \"362a25bd-0843-4226-aa15-ebfd803e5e59\",\n    \"email\": \"test@test.pl\",\n    \"aud\": \"authenticated\",\n    \"role\": \"authenticated\"\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "AI Generation",
      "item": [
        {
          "name": "Generate Flashcards",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"text\": \"JavaScript to język programowania stosowany głównie do tworzenia interaktywnych stron internetowych. Jest to język interpretowany, co oznacza, że kod jest wykonywany bezpośrednio przez przeglądarkę internetową bez konieczności wcześniejszej kompilacji. JavaScript umożliwia manipulację elementów DOM (Document Object Model), obsługę wydarzeń użytkownika oraz komunikację z serwerami poprzez AJAX. Język ten obsługuje programowanie obiektowe oraz funkcyjne. Zmienne w JavaScript mogą być deklarowane za pomocą słów kluczowych var, let i const.\",\n  \"max_cards\": 3\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/generate-flashcards",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "generate-flashcards"
              ]
            },
            "description": "Generate flashcards from text using AI"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"text\": \"JavaScript programming language...\",\n  \"max_cards\": 3\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/generate-flashcards",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "generate-flashcards"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"data\": {\n    \"candidates\": [\n      {\n        \"front\": \"What is JavaScript?\",\n        \"back\": \"Programming language for web development\",\n        \"confidence\": 0.9\n      }\n    ],\n    \"generated_count\": 2,\n    \"processing_time_ms\": 10483\n  }\n}"
            },
            {
              "name": "Validation Error",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"text\": \"Too short\",\n  \"max_cards\": 3\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/generate-flashcards",
                  "host": ["{{baseUrl}}"],
                  "path": ["generate-flashcards"]
                }
              },
              "status": "Unprocessable Entity",
              "code": 422,
              "body": "{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Input validation failed\",\n    \"details\": {\n      \"text\": \"Text must be between 1000 and 10000 characters\"\n    }\n  }\n}"
            },
            {
              "name": "Rate Limit",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"text\": \"Valid long text...\",\n  \"max_cards\": 3\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/generate-flashcards",
                  "host": ["{{baseUrl}}"],
                  "path": ["generate-flashcards"]
                }
              },
              "status": "Too Many Requests",
              "code": 429,
              "body": "{\n  \"error\": {\n    \"code\": \"RATE_LIMIT_EXCEEDED\",\n    \"message\": \"Too many generation requests. Please wait before trying again.\",\n    \"details\": {\n      \"limit\": 10,\n      \"window\": \"1 minute\",\n      \"retry_after\": 45\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "Generate with Collection Context",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"text\": \"JavaScript to język programowania stosowany głównie do tworzenia interaktywnych stron internetowych. Jest to język interpretowany, co oznacza, że kod jest wykonywany bezpośrednio przez przeglądarkę internetową bez konieczności wcześniejszej kompilacji. JavaScript umożliwia manipulację elementów DOM (Document Object Model), obsługę wydarzeń użytkownika oraz komunikację z serwerami poprzez AJAX. Język ten obsługuje programowanie obiektowe oraz funkcyjne. Zmienne w JavaScript mogą być deklarowane za pomocą słów kluczowych var, let i const. Var ma zasięg funkcyjny, podczas gdy let i const mają zasięg blokowy. Const służy do deklarowania stałych, których wartość nie może być zmieniona po inicjalizacji. JavaScript jest językiem dynamicznym, co oznacza, że typy zmiennych są sprawdzane w czasie wykonywania, a nie kompilacji. Obsługuje różne typy danych: number, string, boolean, undefined, null, symbol i object. Funkcje w JavaScript są obiektami pierwszej klasy, co znaczy, że mogą być przypisywane do zmiennych, przekazywane jako argumenty i zwracane z innych funkcji. ES6 wprowadził wiele nowych funkcji jak arrow functions, destructuring, template literals, classes i moduły. JavaScript działa w środowisku przeglądarki oraz po stronie serwera dzięki Node.js.\",\n  \"collection_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"max_cards\": 5\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/generate-flashcards",
              "host": ["{{baseUrl}}"],
              "path": ["generate-flashcards"]
            },
            "description": "Generate flashcards with collection context"
          }
        },
        {
          "name": "Review Flashcards",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection_id\": \"12345678-1234-1234-1234-123456789abc\",\n  \"category_id\": \"12345678-1234-1234-1234-123456789def\",\n  \"flashcards\": [\n    {\n      \"front\": \"What is TypeScript?\",\n      \"back\": \"Superset of JavaScript with static typing\",\n      \"action\": \"accept_direct\"\n    },\n    {\n      \"front\": \"What are React hooks?\",\n      \"back\": \"Functions that let you use state and lifecycle in components\",\n      \"action\": \"accept_edited\"\n    },\n    {\n      \"front\": \"Bad question?\",\n      \"back\": \"Bad answer\",\n      \"action\": \"reject\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/flashcards/review",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "flashcards",
                "review"
              ]
            }
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"collection_id\": \"12345678-1234-1234-1234-123456789abc\",\n  \"flashcards\": [\n    {\n      \"front\": \"Question\",\n      \"back\": \"Answer\",\n      \"action\": \"accept_direct\"\n    }\n  ]\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/flashcards/review",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "flashcards",
                    "review"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"data\": {\n    \"created_count\": 2,\n    \"accepted_direct\": 1,\n    \"accepted_edited\": 1,\n    \"rejected\": 1,\n    \"flashcards\": [\n      {\n        \"id\": \"12345678-1234-1234-1234-123456789abc\",\n        \"front\": \"What is JavaScript?\",\n        \"back\": \"Programming language for web development\",\n        \"collection_id\": \"12345678-1234-1234-1234-123456789abc\",\n        \"category_id\": \"12345678-1234-1234-1234-123456789def\",\n        \"created_by\": \"ai_generated\",\n        \"easiness_factor\": 2.5,\n        \"interval_days\": 1,\n        \"reviews_count\": 0,\n        \"next_review_at\": \"2025-06-01T10:00:00.000Z\"\n      }\n    ]\n  }\n}"
            },
            {
              "name": "Validation Error",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"collection_id\": \"invalid-uuid\",\n  \"flashcards\": []\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/flashcards/review",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "flashcards",
                    "review"
                  ]
                }
              },
              "status": "Unprocessable Entity",
              "code": 422,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Invalid input data\",\n    \"details\": {\n      \"collection_id\": \"Collection ID must be a valid UUID\",\n      \"flashcards\": \"At least one flashcard is required\"\n    }\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Statistics",
      "item": [
        {
          "name": "Get Generation Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/stats/generation",
              "host": ["{{baseUrl}}"],
              "path": ["stats", "generation"]
            },
            "description": "Get AI generation statistics for current user"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/stats/generation",
                  "host": ["{{baseUrl}}"],
                  "path": ["stats", "generation"]
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"data\": {\n    \"total_generations\": 15,\n    \"total_cards_generated\": 142,\n    \"average_cards_per_generation\": 9.47,\n    \"last_generation_at\": \"2025-05-31T20:15:30Z\",\n    \"this_month\": {\n      \"generations\": 8,\n      \"cards_generated\": 76\n    },\n    \"today\": {\n      \"generations\": 2,\n      \"cards_generated\": 18\n    }\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Get Categories List",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/categories?limit=20&offset=0&sort=created_at&order=desc",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "categories"
          ],
          "query": [
            {
              "key": "limit",
              "value": "20",
              "description": "Number of categories per page (1-100, default: 20)"
            },
            {
              "key": "offset",
              "value": "0",
              "description": "Number of categories to skip (default: 0)"
            },
            {
              "key": "sort",
              "value": "created_at",
              "description": "Sort field: created_at|updated_at|name (default: created_at)"
            },
            {
              "key": "order",
              "value": "desc",
              "description": "Sort order: asc|desc (default: desc)"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Create Category",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"JavaScript\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/categories",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "categories"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Get Single Category",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/categories/da640844-3465-4941-a6c9-f6acca3e7857",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "categories",
            "da640844-3465-4941-a6c9-f6acca3e7857"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Update Category",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"JavaScript & TypeScript\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/categories/da640844-3465-4941-a6c9-f6acca3e7857",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "categories",
            "da640844-3465-4941-a6c9-f6acca3e7857"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Delete Category",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/categories/da640844-3465-4941-a6c9-f6acca3e7857",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "categories",
            "da640844-3465-4941-a6c9-f6acca3e7857"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Get Generation Statistics",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/stats/generation",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "stats",
            "generation"
          ]
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3001/api",
      "type": "string"
    }
  ]
} 